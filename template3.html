<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            background-color: #f8f9fa; /* Light gray background for the entire page */
        }
        .container {
            background-color: white;
            border: 2px solid #343a40; /* Dark gray border */
            border-radius: 15px; /* Rounded corners */
            padding: 20px;
            margin: 20px auto; /* Centered container */
            max-width: 800px; /* Limit the width of the container */
        }
        button {
            float: right;
        }
        h3 {
            background-color:burlywood; /* Dark gray background for headings */
            color: white;
            padding: 10px;
            border-radius: 5px;
        }
        .col {
            border-left: 2px solid #343a40; /* Middle vertical line */
            padding: 10px;
        }
        .row {
            border: none; /* Remove borders for rows */
        }
      
    </style>
</head>
<body>
    <button type="button" onclick="generatePDF()" class="btn btn-primary float-end">Export to PDF</button>
    <br>
    <div class="container" id="container">
        <div class="row">
            <div class="col">
                <div class="bg-primary">
                    <h3 id="userName" class="text-center">Full Name</h3>
                </div>
                <p id="userTitle" class="text-center">Job Title</p>
                <h3>Contact Information</h3>
                <p id="userEmail">Email: user@example.com</p>
                <p id="userPhone">Phone: (123) 456-7890</p>
            </div>
            <div class="col">
                <h3>Summary</h3>
                <p id="sum">A brief summary of the professional background.</p>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <h3>Educational Qualification</h3>
                <ul id="ed">
                    <li>Education 1</li>
                    <li>Education 2</li>
                    <!-- Add your education details here -->
                </ul>
            </div>
            <div class="col">
                <h3>Skills</h3>
                <ul id="userSkills">
                    <li>Skill 1</li>
                    <li>Skill 2</li>
                    <!-- Add your skills here -->
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <h3>Projects</h3>
                <ul id="proj">
                    <li>Project 1</li>
                    <li>Project 2</li>
                    <!-- Add your project details here -->
                </ul>
            </div>
            <div class="col">
                <h3>Certifications</h3>
                <ul id="userCert">
                    <li>Certification 1</li>
                    <li>Certification 2</li>
                    <!-- Add your certification details here -->
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <h3>Declaration</h3>
                <p id="dec">A declaration statement goes here.</p>
            </div>
        </div>
    </div>
    <script>
        const userData = JSON.parse(sessionStorage.getItem("userData"));
        if (userData) {
            document.getElementById("userName").textContent = userData.name;
            document.getElementById("userTitle").textContent = userData.title;
            document.getElementById("userEmail").textContent = "Email: " + userData.email;
            document.getElementById("userPhone").textContent = "Phone: " + userData.phone;
            const skills = userData.skills.split(",").map(skill => `<li>${skill.trim()}</li>`).join("");
            document.getElementById("userSkills").innerHTML = skills;

            const certs = userData.certs.split(",").map(cert => `<li>${cert.trim()}</li>`).join("");
            document.getElementById("userCert").innerHTML = certs;

            const ed = userData.ed.split(",").map(ed => `<li>${ed.trim()}</li>`).join("");
            document.getElementById("ed").innerHTML = ed;

            document.getElementById("dec").textContent = userData.dec;
            document.getElementById("sum").textContent = userData.sum;
            const proj = userData.proj.split(",").map(proj => `<li>${proj.trim()}</li>`).join("");
            document.getElementById("proj").innerHTML = proj;
        }

        function generatePDF() {
            var element = document.getElementById('container');
            var opt = {
                margin: 0.5,
                filename: userData.name + '.pdf',
                image: { type: 'jpeg', quality: 1 },
                html2canvas: { scale: 1 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait', precision: 12 }
            };

            html2pdf().set(opt).from(element).save();
        }
    </script>
</body>
</html>
